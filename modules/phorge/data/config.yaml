# WARNING! Settings here OVERRIDE indiviual per-instance settings.
# This file is used by multiple independent Phorge instances.
# If you want to change the setting on only one instance,
# Please edit files/<instance> instead or risk setting the value
# on all instances. --Agent Isai

# Amazon S3
amazon-s3.region: 'auto'

# Logo/Wordmark
# Now set via individual config

# MySQL
mysql.port: '3306'
mysql.user: 'phorge'
mysql.host: 'db1.wikitide.net'

# https://secure.phabricator.com/book/phabricator/article/configuring_file_storage/
# Needs to match php.ini upload_max_filesize
# Needs to match php.ini post_max_size for conduit
storage.mysql-engine.max-size: 10000000

metamta.single-reply-handler-prefix: 'phorge'

# Auth
auth.lock-config: true
auth.require-approval: false
auth.require-email-verification: true

# Phabricator
phabricator.show-prototypes: true
phabricator.timezone: 'UTC'
security.require-https: true
security.strict-transport-security: true
policy.allow-public: true
user.require-real-name: false

# Maniphest priorities
maniphest.priorities:
  '100':
    name: 'Unbreak Now!'
    short: 'Unbreak!'
    color: 'pink'
    keywords: ['unbreak']
  '90':
    name: 'Needs Triage'
    short: 'Triage'
    color: 'violet'
    keywords: ['triage']
  '75':
    name: 'High'
    short: 'High'
    color: 'red'
    keywords: ['high']
  '50':
    name: 'Normal'
    short: 'Normal'
    color: 'orange'
    keywords: ['normal']
  '25':
    name: 'Low'
    short: 'Low'
    color: 'sky'
    keywords: ['low']

maniphest.statuses:
  'open':
    name: 'Open'
    special: 'default'
  'resolved':
    name: 'Resolved'
    name.full: 'Closed, Resolved'
    closed: true
    special: 'closed'
    transaction.icon: 'fa-check-circle'
    prefixes: [closed, closes, close, fix, fixes, fixed, resolve, resolves, resolved]
    suffixes: ['as resolved', 'as fixed']
  'inprogress':
    name: 'In progress'
    name.full: 'Open, In progress'
    transaction.icon: 'fa-forward-step'
    claim: true
  'invalid':
    name: 'Invalid'
    name.full: 'Closed, Invalid'
    closed: true
    transaction.icon: 'fa-minus-circle'
    claim: false
    prefixes: [invalidate, invalidates, invalidated]
    suffixes: ['as invalid']
  'duplicate':
    name: 'Duplicate'
    name.full: 'Closed, Duplicate'
    closed: true
    special: 'duplicate'
    transaction.icon: 'fa-files-o'
    claim: false
  'declined':
    name: 'Declined'
    name.full: 'Closed, Declined'
    closed: true
    transaction.icon: 'fa-thumbs-o-down'
    prefixes: [decline, declines, declined]
    suffixes: ['as declined']
  'stalled':
    name: 'Stalled'
    name.full: 'Open, Stalled'
    closed: false
    transaction.icon: 'fa-spinner'
    prefixes: [stall, stalls, stalled]
    suffixes: ['as stalled']

# Disable some Phabricator applications
phabricator.uninstalled-applications:
  PhabricatorAlmanacApplication: true # we don't have resources to manage
  PhabricatorChatLogApplication: true # deprecated
  PhabricatorConpherenceApplication: true # not used, IRC used
  PhabricatorCountdownApplication: true # niche calendar thing, not useful
  PhabricatorDivinerApplication: true # we don't need Phab docs locally
  PhabricatorDrydockApplication: true # we don't have resources to manage
  PhabricatorFactApplication: true # we don't have fact sources to graph
  PhabricatorFundApplication: true # we don't need to fund single projects
  PhabricatorHarbormasterApplication: true # we don't need local CI / we don't have resources
#  PhabricatorLegalpadApplication: true # we are not a law firm
  PhabricatorMacroApplication: true # we don't need a macro databases
  PhabricatorMultimeterApplication: true # performance sampling we don't have
  PhabricatorNuanceApplication: true # we're not a call center
  PhabricatorOAuthServerApplication: true # we're running MediaWiki as an OAuth
  PhabricatorOwnersApplication: true # we don't manage source on Phab
  PhabricatorPackagesApplication: true # no packages to host
  PhabricatorPhluxApplication: true # puppet has hiera
  PhabricatorPholioApplication: true # we are not designers
  PhabricatorPhortuneApplication: true # we don't need billing stuff
  PhabricatorPhragmentApplication: true # puppet has hiera
  PhabricatorPhrequentApplication: true # UO spends all of his time well, we don't need to track it
  PhabricatorPhrictionApplication: true # if we operate this, there will be phriction with MediaWiki
  PhabricatorPhurlApplication: true # we already have a URL shortener
  PhabricatorReleephApplication: true # we don't need to releeph GitHub of more work
  PhabricatorSlowvoteApplication: true # we're not a polling station
  
 # Custom field settings
user.custom-field-definitions:
  discord_user:
    name: 'Discord Username'
    type: text
    search: true
  irc_nick:
    name: 'IRC Nickname'
    type: text
    search: true

pygments.enabled: true
